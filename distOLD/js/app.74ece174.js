(function(e){function t(t){for(var a,n,s=t[0],i=t[1],u=t[2],l=0,d=[];l<s.length;l++)n=s[l],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&d.push(c[n][0]),c[n]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);b&&b(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,n=1;n<r.length;n++){var s=r[n];0!==c[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},c={app:0},o=[];function s(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-6ed16e61":"c8e2a766","chunk-8b74649e":"ee6a7469","chunk-f91c7a5a":"6c7807f5"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r={"chunk-6ed16e61":1,"chunk-8b74649e":1,"chunk-f91c7a5a":1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var a="css/"+({}[e]||e)+"."+{"chunk-6ed16e61":"ef8bf4eb","chunk-8b74649e":"25a3010b","chunk-f91c7a5a":"0ac614e8"}[e]+".css",c=i.p+a,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===c))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===a||l===c)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var a=t&&t.target&&t.target.src||c,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete n[e],b.parentNode.removeChild(b),r(o)},b.href=c;var h=document.getElementsByTagName("head")[0];h.appendChild(b)})).then((function(){n[e]=0})));var a=c[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,r){a=c[e]=[t,r]}));t.push(a[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(b);var r=c[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,r[1](d)}c[e]=void 0}};var b=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var b=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0125":function(e,t,r){"use strict";r("9503")},"162e":function(e,t,r){"use strict";r("6086")},"269f":function(e,t,r){},"348c":function(e,t,r){"use strict";r("e94a")},"34e6":function(e,t,r){"use strict";r("cc2e")},"3a31":function(e,t,r){},4331:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("d3b7"),r("3ca3"),r("ddb0");var a=r("7a23");function n(e,t,r,n,c,o){var s=Object(a["D"])("the-header"),i=Object(a["D"])("router-view");return Object(a["v"])(),Object(a["h"])(a["a"],null,[Object(a["k"])(s),Object(a["k"])(i,null,{default:Object(a["L"])((function(e){return[Object(a["k"])(a["c"],{name:"route",mode:"out-in"},{default:Object(a["L"])((function(){return[(Object(a["v"])(),Object(a["f"])(Object(a["E"])(e.Component)))]})),_:2},1024)]})),_:1})],64)}r("ac1f"),r("5319");var c=Object(a["j"])("Find a Teacher"),o=Object(a["j"])("All Teachers"),s=Object(a["j"])("Applications"),i=Object(a["j"])("Log In"),u=Object(a["j"])("Log Out");function l(e,t,r,n,l,d){var b=Object(a["D"])("router-link"),h=Object(a["D"])("base-button");return Object(a["v"])(),Object(a["h"])("header",null,[Object(a["i"])("nav",null,[Object(a["i"])("h1",null,[Object(a["k"])(b,{to:"/"},{default:Object(a["L"])((function(){return[c]})),_:1})]),Object(a["i"])("ul",null,[Object(a["i"])("li",null,[Object(a["k"])(b,{to:"/teachers"},{default:Object(a["L"])((function(){return[o]})),_:1})]),Object(a["i"])("li",null,[e.userIsLoggedIn&&e.userIsTeacher?(Object(a["v"])(),Object(a["f"])(b,{key:0,to:"/applications"},{default:Object(a["L"])((function(){return[s]})),_:1})):Object(a["g"])("",!0)]),Object(a["i"])("li",null,[e.userIsLoggedIn?(Object(a["v"])(),Object(a["f"])(h,{key:1,onClick:e.logout},{default:Object(a["L"])((function(){return[u]})),_:1},8,["onClick"])):(Object(a["v"])(),Object(a["f"])(h,{key:0,to:"/auth",link:""},{default:Object(a["L"])((function(){return[i]})),_:1}))])])])])}var d=r("5530"),b=r("5502"),h={computed:Object(d["a"])({},Object(b["c"])({userIsLoggedIn:"userIsLoggedIn",userIsTeacher:"teachers/userIsTeacher"})),methods:Object(d["a"])({},Object(b["b"])(["logout"]))},f=(r("9664"),r("6b0d")),j=r.n(f);const p=j()(h,[["render",l],["__scopeId","data-v-f34994e6"]]);var O=p,m={components:{TheHeader:O},created:function(){this.$store.dispatch("keepLogin"),this.$store.dispatch("teachers/fetchTeachers")},computed:{userIsLoggedIn:function(){return this.$store.getters.userIsLoggedIn}},watch:{userIsLoggedIn:function(e){e||this.$router.replace("/teachers")}}};r("348c");const v=j()(m,[["render",n]]);var g=v,k=r("6c02"),I={class:"controls"},w=Object(a["j"])("Refresh"),L=Object(a["j"])("Register as Teacher "),T={key:0},y={key:1},_={key:2};function x(e,t,r,n,c,o){var s=Object(a["D"])("base-dialog"),i=Object(a["D"])("teacher-filter"),u=Object(a["D"])("base-button"),l=Object(a["D"])("base-spinner"),d=Object(a["D"])("teacher-item"),b=Object(a["D"])("base-card");return Object(a["v"])(),Object(a["h"])("div",null,[Object(a["k"])(s,{show:!!c.error,onClose:o.handleError,title:"Error fetching teachers!!"},{default:Object(a["L"])((function(){return[Object(a["i"])("p",null,Object(a["G"])(c.error),1)]})),_:1},8,["show","onClose"]),Object(a["i"])("section",null,[Object(a["k"])(i,{onChangeFilter:o.setAreas},null,8,["onChangeFilter"])]),Object(a["i"])("section",null,[Object(a["k"])(b,null,{default:Object(a["L"])((function(){return[Object(a["i"])("div",I,[c.isLoading?Object(a["g"])("",!0):(Object(a["v"])(),Object(a["f"])(u,{key:0,onClick:o.refreshTeachers,mode:"outline"},{default:Object(a["L"])((function(){return[w]})),_:1},8,["onClick"])),!e.userIsLoggedIn||e.isTeacher||c.isLoading?Object(a["g"])("",!0):(Object(a["v"])(),Object(a["f"])(u,{key:1,link:"",to:"/register"},{default:Object(a["L"])((function(){return[L]})),_:1}))]),c.isLoading?(Object(a["v"])(),Object(a["h"])("div",T,[Object(a["k"])(l)])):e.teachersLoaded?(Object(a["v"])(),Object(a["h"])("ul",y,[(Object(a["v"])(!0),Object(a["h"])(a["a"],null,Object(a["B"])(o.filteredTeachers,(function(e){return Object(a["v"])(),Object(a["f"])(d,{key:e.id,teacher:e},null,8,["teacher"])})),128))])):(Object(a["v"])(),Object(a["h"])("h3",_,"No teachers found."))]})),_:1})])])}var A=r("b85c"),E=r("c7eb"),C=r("1da1"),D=(r("4de4"),r("caad"),r("2532"),{class:"actions"}),S=Object(a["j"])("Contact"),V=Object(a["j"])("View Details");function N(e,t,r,n,c,o){var s=Object(a["D"])("base-badge"),i=Object(a["D"])("base-button");return Object(a["v"])(),Object(a["h"])("li",null,[Object(a["i"])("h3",null,Object(a["G"])(o.fullName),1),Object(a["i"])("h4",null,Object(a["G"])(o.rate),1),Object(a["i"])("h5",null,Object(a["G"])(o.available),1),Object(a["i"])("div",null,[(Object(a["v"])(!0),Object(a["h"])(a["a"],null,Object(a["B"])(r.teacher.areas,(function(e){return Object(a["v"])(),Object(a["f"])(s,{key:e,title:e},null,8,["title"])})),128))]),Object(a["i"])("div",D,[Object(a["k"])(i,{link:"",to:o.contact,mode:"outline"},{default:Object(a["L"])((function(){return[S]})),_:1},8,["to"]),Object(a["k"])(i,{link:"",to:o.details},{default:Object(a["L"])((function(){return[V]})),_:1},8,["to"])])])}r("99af");var U={props:{teacher:Object},computed:{fullName:function(){return this.teacher.firstName+" "+this.teacher.lastName},rate:function(){return this.teacher.hourlyRate+"$/hour"},available:function(){return this.teacher.available?"Available":"Not Available"},contact:function(){return"".concat(this.$route.path,"/").concat(this.teacher.id,"/contact")},details:function(){return"".concat(this.$route.path,"/").concat(this.teacher.id)}}};r("66f4");const P=j()(U,[["render",N],["__scopeId","data-v-296002e4"]]);var F=P,B=function(e){return Object(a["y"])("data-v-6651b6e4"),e=e(),Object(a["w"])(),e},G=B((function(){return Object(a["i"])("h2",null,"Find Your Teacher",-1)})),$=["id"],M=["for"];function R(e,t,r,n,c,o){var s=Object(a["D"])("base-card");return Object(a["v"])(),Object(a["f"])(s,null,{default:Object(a["L"])((function(){return[G,(Object(a["v"])(!0),Object(a["h"])(a["a"],null,Object(a["B"])(e.allAreas,(function(e){return Object(a["v"])(),Object(a["h"])("span",{key:e,class:"filter-option"},[Object(a["i"])("input",{type:"checkbox",id:e,checked:"",onChange:t[0]||(t[0]=function(){return o.setFilter&&o.setFilter.apply(o,arguments)})},null,40,$),Object(a["i"])("label",{for:e},Object(a["G"])(e),9,M)])})),128))]})),_:1})}var q={emits:["change-filter"],data:function(){return{areasChecked:[]}},created:function(){this.areasChecked=this.allAreas},watch:{allAreas:function(){this.areasChecked=this.allAreas}},computed:Object(d["a"])({},Object(b["c"])({allAreas:"teachers/allAreas"})),methods:{setFilter:function(e){var t=e.target.id;e.target.checked?this.areasChecked.push(t):this.areasChecked=this.areasChecked.filter((function(e){return e!==t})),this.$emit("change-filter",this.areasChecked)}}};r("162e");const J=j()(q,[["render",R],["__scopeId","data-v-6651b6e4"]]);var Y=J,z={components:{TeacherItem:F,TeacherFilter:Y},data:function(){return{areasChecked:[],isLoading:!1,error:null}},created:function(){var e=this;return Object(C["a"])(Object(E["a"])().mark((function t(){return Object(E["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.teachersLoaded){t.next=5;break}return t.next=3,e.refreshTeachers();case 3:t.next=6;break;case 5:e.areasChecked=e.areas;case 6:case"end":return t.stop()}}),t)})))()},computed:Object(d["a"])(Object(d["a"])({},Object(b["c"])({teachers:"teachers/allTeachers",teachersLoaded:"teachers/teachersLoaded",areas:"teachers/allAreas",isTeacher:"teachers/userIsTeacher",userIsLoggedIn:"userIsLoggedIn"})),{},{filteredTeachers:function(){var e=this;return this.teachers.filter((function(t){var r,a=Object(A["a"])(e.areasChecked);try{for(a.s();!(r=a.n()).done;){var n=r.value;if(t.areas.includes(n))return!0}}catch(c){a.e(c)}finally{a.f()}return!1}))}}),methods:Object(d["a"])(Object(d["a"])({setAreas:function(e){this.areasChecked=e}},Object(b["b"])({loadTeachers:"teachers/fetchTeachers"})),{},{refreshTeachers:function(){var e=this;return Object(C["a"])(Object(E["a"])().mark((function t(){return Object(E["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,e.loadTeachers();case 4:e.isLoading=!1,e.areasChecked=e.areas,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.error=t.t0.message;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},handleError:function(){this.isLoading=!1,this.error=null}})};r("9040");const H=j()(z,[["render",x],["__scopeId","data-v-3659d7ba"]]);var K=H,Z=function(e){return Object(a["y"])("data-v-fd8e3d7a"),e=e(),Object(a["w"])(),e},W=Z((function(){return Object(a["i"])("label",{for:"email"},"Your E-Mail",-1)})),Q={key:0},X=Z((function(){return Object(a["i"])("label",{for:"message"},"Message",-1)})),ee={key:0},te={class:"actions"},re=Object(a["j"])("Send"),ae={key:0};function ne(e,t,r,n,c,o){var s=Object(a["D"])("base-dialog"),i=Object(a["D"])("base-button");return Object(a["v"])(),Object(a["h"])("div",null,[Object(a["k"])(s,{show:!!c.error,onClose:o.handleError,title:"Error sending application!!!"},{default:Object(a["L"])((function(){return[Object(a["i"])("p",null,Object(a["G"])(c.error),1)]})),_:1},8,["show","onClose"]),Object(a["i"])("form",{onSubmit:t[4]||(t[4]=Object(a["N"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"]))},[Object(a["i"])("div",{class:Object(a["r"])(["form-control",{invalid:!c.email.isValid}])},[W,Object(a["M"])(Object(a["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.email.value=e}),type:"email",id:"email",onInput:t[1]||(t[1]=function(e){return o.clearInvalidPrompt("email")})},null,544),[[a["J"],c.email.value,void 0,{trim:!0}]]),c.email.isValid?Object(a["g"])("",!0):(Object(a["v"])(),Object(a["h"])("p",Q,"Must provide a valid e-mail!"))],2),Object(a["i"])("div",{class:Object(a["r"])(["form-control",{invalid:!c.message.isValid}])},[X,Object(a["M"])(Object(a["i"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.message.value=e}),id:"message",rows:"5",onInput:t[3]||(t[3]=function(e){return o.clearInvalidPrompt("message")})},null,544),[[a["J"],c.message.value,void 0,{trim:!0}]]),c.message.isValid?Object(a["g"])("",!0):(Object(a["v"])(),Object(a["h"])("p",ee,"Enter some message to send to the teacher!"))],2),Object(a["i"])("div",te,[Object(a["k"])(i,null,{default:Object(a["L"])((function(){return[re]})),_:1}),o.formIsValid?Object(a["g"])("",!0):(Object(a["v"])(),Object(a["h"])("h4",ae,"Please provide valid data in the fields marked with red!"))])],32)])}var ce={data:function(){return{email:{value:"",isValid:!0},message:{value:"",isValid:!0},error:null}},computed:{formIsValid:function(){return this.email.isValid&&this.message.isValid}},methods:Object(d["a"])(Object(d["a"])({},Object(b["b"])({contactTeacher:"applications/contactTeacher"})),{},{validateForm:function(){""===this.email.value&&(this.email.isValid=!1),""===this.message.value&&(this.message.isValid=!1)},submitForm:function(){var e=this;return Object(C["a"])(Object(E["a"])().mark((function t(){return Object(E["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validateForm(),e.formIsValid){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,e.contactTeacher({email:e.email.value,message:e.message.value,teacherId:e.$route.params.id});case 6:e.$router.replace("/teachers"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),e.error=t.t0.message;case 12:case"end":return t.stop()}}),t,null,[[3,9]])})))()},clearInvalidPrompt:function(e){this[e].isValid=!0},handleError:function(){this.error=null,this.$router.replace("/teachers")}})};r("79cf");const oe=j()(ce,[["render",ne],["__scopeId","data-v-fd8e3d7a"]]);var se=oe,ie=(r("a4d3"),r("e01a"),Object(a["i"])("h2",null,"Interested? Reach out now!",-1)),ue=Object(a["j"])("Contact");function le(e,t,r,n,c,o){var s=Object(a["D"])("base-card"),i=Object(a["D"])("base-button"),u=Object(a["D"])("router-view"),l=Object(a["D"])("base-badge");return Object(a["v"])(),Object(a["h"])("div",null,[Object(a["i"])("section",null,[Object(a["k"])(s,null,{default:Object(a["L"])((function(){return[Object(a["i"])("h2",null,Object(a["G"])(o.fullName),1),Object(a["i"])("h3",null,Object(a["G"])(o.rate),1),Object(a["i"])("h4",null,Object(a["G"])(o.available),1)]})),_:1})]),Object(a["i"])("section",null,[Object(a["k"])(s,null,{default:Object(a["L"])((function(){return[Object(a["i"])("header",null,[ie,Object(a["k"])(i,{link:"",to:o.contact},{default:Object(a["L"])((function(){return[ue]})),_:1},8,["to"])]),Object(a["k"])(u)]})),_:1})]),Object(a["i"])("section",null,[Object(a["k"])(s,null,{default:Object(a["L"])((function(){return[(Object(a["v"])(!0),Object(a["h"])(a["a"],null,Object(a["B"])(c.teacher.areas,(function(e){return Object(a["v"])(),Object(a["f"])(l,{key:e,title:e},null,8,["title"])})),128)),Object(a["i"])("p",null,Object(a["G"])(c.teacher.description),1)]})),_:1})])])}r("7db0");var de={props:["id"],data:function(){return{teacher:null}},created:function(){var e=this;this.teacher=this.teachers.find((function(t){return t.id===e.id}))},computed:Object(d["a"])(Object(d["a"])({},Object(b["c"])({teachers:"teachers/allTeachers"})),{},{fullName:function(){return this.teacher.firstName+" "+this.teacher.lastName},rate:function(){return this.teacher.hourlyRate+"$/hour"},available:function(){return this.teacher.available?"Available":"Not Available"},contact:function(){return"".concat(this.$route.path,"/contact")}})};const be=j()(de,[["render",le]]);var he=be,fe=Object(a["i"])("h2",null,"PAGE NOT FOUND",-1),je=Object(a["j"])("Yo can find all our teachers "),pe=Object(a["j"])("here.");function Oe(e,t){var r=Object(a["D"])("RouterLink"),n=Object(a["D"])("BaseCard");return Object(a["v"])(),Object(a["h"])("section",null,[Object(a["k"])(n,null,{default:Object(a["L"])((function(){return[fe,Object(a["i"])("p",null,[je,Object(a["k"])(r,{to:"/teachers"},{default:Object(a["L"])((function(){return[pe]})),_:1})])]})),_:1})])}const me={},ve=j()(me,[["render",Oe]]);var ge=ve,ke={key:1},Ie={class:"form-control"},we={key:0},Le={class:"form-control"},Te={key:1},ye={class:"actions"};function _e(e,t,r,n,c,o){var s=Object(a["D"])("base-dialog"),i=Object(a["D"])("base-spinner"),u=Object(a["D"])("base-button"),l=Object(a["D"])("base-card");return Object(a["v"])(),Object(a["f"])(l,null,{default:Object(a["L"])((function(){return[Object(a["k"])(s,{show:!!c.error,onClose:o.handleError,title:"Error authenticating at Firebase!!!"},{default:Object(a["L"])((function(){return[Object(a["i"])("h4",null,Object(a["G"])(c.error),1)]})),_:1},8,["show","onClose"]),Object(a["k"])(s,{show:c.isLoading&&!c.error,onClose:o.closeDialog,title:"Registration",fixed:!e.userIsLoggedIn},{default:Object(a["L"])((function(){return[e.userIsLoggedIn?(Object(a["v"])(),Object(a["h"])("h3",ke,"Successfully signed up!")):(Object(a["v"])(),Object(a["f"])(i,{key:0}))]})),_:1},8,["show","onClose","fixed"]),Object(a["i"])("form",{onSubmit:t[4]||(t[4]=Object(a["N"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"]))},[Object(a["i"])("div",Ie,[Object(a["i"])("label",{for:"email",class:Object(a["r"])({invalid:!c.email.isValid})},"Email",2),Object(a["M"])(Object(a["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.email.value=e}),type:"email",id:"email",class:Object(a["r"])({invalid:!c.email.isValid}),onInput:t[1]||(t[1]=function(e){return o.clearInvalidPrompt("email")})},null,34),[[a["J"],c.email.value,void 0,{trim:!0}]])]),c.email.isValid?Object(a["g"])("",!0):(Object(a["v"])(),Object(a["h"])("p",we,"Please provide a valid email")),Object(a["i"])("div",Le,[Object(a["i"])("label",{for:"password",class:Object(a["r"])({invalid:!c.password.isValid})},"Password",2),Object(a["M"])(Object(a["i"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password.value=e}),type:"password",id:"password",class:Object(a["r"])({invalid:!c.password.isValid}),onInput:t[3]||(t[3]=function(e){return o.clearInvalidPrompt("password")})},null,34),[[a["J"],c.password.value,void 0,{trim:!0}]])]),c.password.isValid?Object(a["g"])("",!0):(Object(a["v"])(),Object(a["h"])("p",Te,"Please enter a password of minimum 6 characters")),Object(a["i"])("div",ye,[Object(a["k"])(u,null,{default:Object(a["L"])((function(){return[Object(a["j"])(Object(a["G"])(o.submitButtonCaption),1)]})),_:1}),Object(a["k"])(u,{type:"button",mode:"outline",onClick:o.switchAuthMode},{default:Object(a["L"])((function(){return[Object(a["j"])(Object(a["G"])(o.switchButtonCaption),1)]})),_:1},8,["onClick"])])],32)]})),_:1})}var xe={components:{},emits:[],data:function(){return{email:{value:"",isValid:!0},password:{value:"",isValid:!0},mode:"login",isLoading:!1,error:null}},computed:Object(d["a"])(Object(d["a"])({},Object(b["c"])({userIsLoggedIn:"userIsLoggedIn",teachers:"teachers/allTeachers",userId:"userId"})),{},{formIsValid:function(){return this.email.isValid&&this.password.isValid},submitButtonCaption:function(){return"login"===this.mode?"Log In":"Sign Up"},switchButtonCaption:function(){return"login"===this.mode?"You have no account? Sign up instead!":"Already registered? Log in!"}}),methods:Object(d["a"])(Object(d["a"])({},Object(b["b"])({authorize:"authorize",setUserIsTeacher:"teachers/setUserIsTeacher",fetchApplications:"applications/fetchApplications"})),{},{validateForm:function(){""===this.email.value&&(this.email.isValid=!1),this.password.value.length<6&&(this.password.isValid=!1)},submitForm:function(){var e=this;return Object(C["a"])(Object(E["a"])().mark((function t(){var r,a,n,c;return Object(E["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validateForm(),e.formIsValid){t.next=3;break}return t.abrupt("return");case 3:return r=[{email:e.email.value,password:e.password.value},e.mode],t.prev=4,"signup"===e.mode&&(e.isLoading=!0),t.next=8,e.authorize(r);case 8:a=Object(A["a"])(e.teachers),t.prev=9,a.s();case 11:if((n=a.n()).done){t.next=19;break}if(c=n.value,c.id!==e.userId){t.next=17;break}return e.setUserIsTeacher(),t.next=17,e.fetchApplications();case 17:t.next=11;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](9),a.e(t.t0);case 24:return t.prev=24,a.f(),t.finish(24);case 27:"login"===e.mode&&e.$router.replace("/teachers"),t.next=33;break;case 30:t.prev=30,t.t1=t["catch"](4),e.error=t.t1.message;case 33:case"end":return t.stop()}}),t,null,[[4,30],[9,21,24,27]])})))()},clearInvalidPrompt:function(e){this[e].isValid=!0},switchAuthMode:function(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError:function(){this.isLoading=!1,this.error=null},closeDialog:function(){this.isLoading=!1,this.$router.replace("/teachers")}})};r("34e6");const Ae=j()(xe,[["render",_e],["__scopeId","data-v-c7ee2c4e"]]);var Ee,Ce=Ae,De=(r("d9e2"),r("d81d"),r("b64b"),r("159b"),r("bc3a")),Se=r.n(De),Ve="https://find-teacher-ae7f6-default-rtdb.europe-west1.firebasedatabase.app/",Ne={teachers:[],teachersLoaded:!1,areas:[],userIsTeacher:!1},Ue={allTeachers:function(e){return e.teachers},teachersLoaded:function(e){return e.teachersLoaded},allAreas:function(e){return e.areas},userIsTeacher:function(e){return e.userIsTeacher}},Pe={setTeachers:function(e,t){e.teachers=t},setAreas:function(e,t){e.areas=t},setTeachersLoaded:function(e){e.teachersLoaded=!0},setTeachersNotLoaded:function(e){e.teachersLoaded=!1},addTeacher:function(e,t){e.teachers.push(t)},setUserIsTeacher:function(e){e.userIsTeacher=!0,localStorage.setItem("userIsTeacher","true")},setUserIsNotTeacher:function(e){e.userIsTeacher=!1,localStorage.removeItem("userIsTeacher")}},Fe={addTeacher:function(e,t){return Object(C["a"])(Object(E["a"])().mark((function r(){var a,n,c;return Object(E["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=e.rootGetters,r.prev=1,r.next=4,Se.a.put("".concat(Ve,"/teachers/").concat(n.userId,".json?auth=").concat(n.token),t);case 4:r.next=10;break;case 6:throw r.prev=6,r.t0=r["catch"](1),c=r.t0.response.statusText||r.t0.response.data.error.message,new Error("Error writing to Firebase: "+c);case 10:a("setUserIsTeacher"),a("addTeacher",Object(d["a"])(Object(d["a"])({},t),{},{id:n.userId}));case 12:case"end":return r.stop()}}),r,null,[[1,6]])})))()},fetchTeachers:function(e){return Object(C["a"])(Object(E["a"])().mark((function t(){var r,a,n,c,o,s,i,u,l,b,h,f;return Object(E["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.state,n=e.getters,c=e.rootGetters,r("setTeachersNotLoaded"),r("setAreas",[]),o=[],t.prev=4,t.next=7,Se.a.get("".concat(Ve,"/teachers.json"));case 7:s=t.sent,o=Object.keys(s.data).map((function(e){return Object(d["a"])(Object(d["a"])({},s.data[e]),{},{id:e})})),t.next=15;break;case 11:throw t.prev=11,t.t0=t["catch"](4),i=t.t0.response.statusText||t.t0.response.data.error.message,new Error("Error fetching teachers from Firebase: "+i);case 15:for(u in r("setTeachers",o),r("setTeachersLoaded"),o)u.id===c.userId&&r("setUserIsTeacher");l=[],n.allTeachers.forEach((function(e){e.areas.forEach((function(e){l.includes(e)||l.push(e)}))})),r("setAreas",l),a.userIsTeacher=!1,b=Object(A["a"])(a.teachers);try{for(b.s();!(h=b.n()).done;)f=h.value,f.id===c.userId&&(a.userIsTeacher=!0)}catch(j){b.e(j)}finally{b.f()}case 24:case"end":return t.stop()}}),t,null,[[4,11]])})))()},setUserIsTeacher:function(e){var t=e.commit;t("setUserIsTeacher")},setUserIsNotTeacher:function(e){var t=e.commit;t("setUserIsNotTeacher")}},Be={namespaced:!0,state:Ne,getters:Ue,actions:Fe,mutations:Pe},Ge="https://find-teacher-ae7f6-default-rtdb.europe-west1.firebasedatabase.app/",$e={applications:[],applicationsLoaded:!1},Me={applications:function(e){return e.applications},applicationsLoaded:function(e){return e.applicationsLoaded},noApplications:function(e){return 0===e.applications.length}},Re={setApplications:function(e,t){e.applications=t},setApplicationsLoaded:function(e){e.applicationsLoaded=!0},deleteApplication:function(e,t){e.applications=e.applications.filter((function(e){return e.id!==t}))}},qe={contactTeacher:function(e,t){return Object(C["a"])(Object(E["a"])().mark((function e(){var r,a;return Object(E["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={userEmail:t.email,message:t.message},e.prev=1,e.next=4,Se.a.post("".concat(Ge,"/applications/").concat(t.teacherId,".json"),r);case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e["catch"](1),a=e.t0.response.statusText||e.t0.response.data.error.message,new Error("Error writing to Firebase: "+a);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))()},fetchApplications:function(e){return Object(C["a"])(Object(E["a"])().mark((function t(){var r,a,n,c,o;return Object(E["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.rootGetters,n=[],t.prev=2,t.next=5,Se.a.get("".concat(Ge,"/applications/").concat(a.userId,".json?auth=").concat(a.token));case 5:c=t.sent,c.data&&(n=Object.keys(c.data).map((function(e){return Object(d["a"])(Object(d["a"])({},c.data[e]),{},{id:e})}))),t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](2),o=t.t0.response.statusText||t.t0.response.data.error.message,new Error("Error fetching applications from Firebase: "+o);case 13:r("setApplications",n),r("setApplicationsLoaded");case 15:case"end":return t.stop()}}),t,null,[[2,9]])})))()},deleteApplication:function(e,t){return Object(C["a"])(Object(E["a"])().mark((function r(){var a,n,c;return Object(E["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=e.rootGetters,r.prev=1,r.next=4,Se.a.delete("".concat(Ge,"/applications/").concat(n.userId,"/").concat(t,".json?auth=").concat(n.token));case 4:a("deleteApplication",t),r.next=11;break;case 7:throw r.prev=7,r.t0=r["catch"](1),c=r.t0.response.statusText||r.t0.response.data.error.message,new Error("Error deleting application from Firebase: "+c);case 11:case"end":return r.stop()}}),r,null,[[1,7]])})))()}},Je={namespaced:!0,state:$e,getters:Me,actions:qe,mutations:Re},Ye="AIzaSyDY_k93UeBtJEO00B9TS5A0ZHqkq-RsNJM",ze="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=",He="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=",Ke={userId:null,token:null},Ze={userId:function(e){return e.userId},userIsLoggedIn:function(e){return!!e.userId},token:function(e){return e.token}},We={setUserAuthData:function(e,t){e.userId=t.localId,e.token=t.idToken}},Qe={authorize:function(e,t){return Object(C["a"])(Object(E["a"])().mark((function r(){var a,n,c,o,s,i,u,l,b,h;return Object(E["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=e.dispatch,c=t[0],o=t[1],console.log(Object({NODE_ENV:"production",VUE_APP_FIREBASE_DB:"https://find-teacher-ae7f6-default-rtdb.europe-west1.firebasedatabase.app/",VUE_APP_API_KEY:"AIzaSyDY_k93UeBtJEO00B9TS5A0ZHqkq-RsNJM",BASE_URL:"/"}).API_KEY),r.prev=4,i="login"===o?He:ze,r.next=8,Se.a.post(i+Ye,Object(d["a"])(Object(d["a"])({},c),{},{returnSecureToken:!0}));case 8:u=r.sent,s=u.data,r.next=17;break;case 12:throw r.prev=12,r.t0=r["catch"](4),l="login"===o?"Error logging in: ":"Error registering new user: ",l+=r.t0.response.statusText||r.t0.response.data.error.message,new Error("Error logging in: "+l);case 17:b=1e3*+s.expiresIn,h=(new Date).getTime()+b,Ee=setTimeout((function(){n("logout")}),b),localStorage.setItem("token",s.idToken),localStorage.setItem("userId",s.localId),localStorage.setItem("tokenExpiration",h),a("setUserAuthData",s);case 24:case"end":return r.stop()}}),r,null,[[4,12]])})))()},keepLogin:function(e){var t=e.commit,r=e.dispatch,a=localStorage.getItem("token"),n=localStorage.getItem("userId"),c=localStorage.getItem("tokenExpiration"),o=+c-(new Date).getTime();o<1e4||(Ee=setTimeout((function(){r("logout")}),o),a&&n&&t("setUserAuthData",{idToken:a,localId:n}))},logout:function(e){var t=e.commit;localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userIsTeacher"),localStorage.removeItem("tokenExpiration"),t("setUserAuthData",{userId:null,token:null}),clearTimeout(Ee)}},Xe={namespaced:!1,state:Ke,getters:Ze,actions:Qe,mutations:We},et=Object(b["a"])({modules:{teachers:Be,applications:Je,auth:Xe}}),tt=et,rt=function(){return r.e("chunk-8b74649e").then(r.bind(null,"9591"))},at=function(){return r.e("chunk-f91c7a5a").then(r.bind(null,"d166"))},nt=Object(k["a"])({history:Object(k["b"])(),routes:[{path:"/",redirect:"/teachers"},{path:"/teachers",component:K},{path:"/teachers/:id",component:he,props:!0,children:[{path:"contact",component:se}]},{path:"/register",component:rt,meta:{needsAuth:!0}},{path:"/applications",component:at,meta:{needsAuth:!0}},{path:"/auth",component:Ce,meta:{shouldBeLoggedOut:!0}},{path:"/:catchAll(.*)",component:ge}]});nt.beforeEach((function(e,t,r){e.meta.needsAuth&&!tt.getters.userIsLoggedIn?r("/auth"):e.meta.shouldBeLoggedOut&&tt.getters.userIsLoggedIn?r("/teachers"):r()}));var ct=nt,ot={class:"card"};function st(e,t){return Object(a["v"])(),Object(a["h"])("div",ot,[Object(a["C"])(e.$slots,"default",{},void 0,!0)])}r("e4e7");const it={},ut=j()(it,[["render",st],["__scopeId","data-v-0db65e8e"]]);var lt=ut,dt=(r("9911"),{class:"button"}),bt=["type"];function ht(e,t,r,n,c,o){var s=Object(a["D"])("router-link");return Object(a["v"])(),Object(a["h"])("div",dt,[r.link?(Object(a["v"])(),Object(a["f"])(s,{key:0,to:r.to,class:Object(a["r"])(r.mode)},{default:Object(a["L"])((function(){return[Object(a["C"])(e.$slots,"default",{},void 0,!0)]})),_:3},8,["to","class"])):(Object(a["v"])(),Object(a["h"])("button",{key:1,type:r.type,class:Object(a["r"])(r.mode)},[Object(a["C"])(e.$slots,"default",{},void 0,!0)],10,bt))])}var ft={props:{link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"},mode:{type:String,required:!1,default:null},type:{type:String,required:!1,default:"submit"}}};r("bc13");const jt=j()(ft,[["render",ht],["__scopeId","data-v-b2c219c0"]]);var pt=jt,Ot={class:"badge"};function mt(e,t,r,n,c,o){return Object(a["v"])(),Object(a["h"])("span",Ot,Object(a["G"])(o.text),1)}var vt={props:["title"],computed:{text:function(){return this.title.toUpperCase()}}};r("0125");const gt=j()(vt,[["render",mt],["__scopeId","data-v-50bbfa2b"]]);var kt=gt,It=function(e){return Object(a["y"])("data-v-a82fb78c"),e=e(),Object(a["w"])(),e},wt={class:"spinner"},Lt=It((function(){return Object(a["i"])("div",{class:"lds-roller"},[Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div")],-1)})),Tt=[Lt];function yt(e,t){return Object(a["v"])(),Object(a["h"])("div",wt,Tt)}r("56fa");const _t={},xt=j()(_t,[["render",yt],["__scopeId","data-v-a82fb78c"]]);var At=xt,Et=Object(a["l"])((function(){return r.e("chunk-6ed16e61").then(r.bind(null,"ae92"))})),Ct=Object(a["e"])(g);Ct.use(tt).use(ct).component("base-card",lt).component("base-button",pt).component("base-badge",kt).component("base-spinner",At).component("base-dialog",Et).mount("#app")},"56fa":function(e,t,r){"use strict";r("8030")},6086:function(e,t,r){},"66f4":function(e,t,r){"use strict";r("3a31")},"6c97":function(e,t,r){},"79cf":function(e,t,r){"use strict";r("ea49")},8030:function(e,t,r){},"8a4b":function(e,t,r){},9040:function(e,t,r){"use strict";r("8a4b")},9503:function(e,t,r){},9664:function(e,t,r){"use strict";r("4331")},bc13:function(e,t,r){"use strict";r("6c97")},cc2e:function(e,t,r){},e4e7:function(e,t,r){"use strict";r("269f")},e94a:function(e,t,r){},ea49:function(e,t,r){}});
//# sourceMappingURL=app.74ece174.js.map